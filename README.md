# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Vite

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/main.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
# Интернет-магазин «Web-Larёk»
«Web-Larёk» — это интернет-магазин с товарами для веб-разработчиков, где пользователи могут просматривать товары, добавлять их в корзину и оформлять заказы. Сайт предоставляет удобный интерфейс с модальными окнами для просмотра деталей товаров, управления корзиной и выбора способа оплаты, обеспечивая полный цикл покупки с отправкой заказов на сервер.

## Архитектура приложения

Код приложения разделен на слои согласно парадигме MVP (Model-View-Presenter), которая обеспечивает четкое разделение ответственности между классами слоев Model и View. Каждый слой несет свой смысл и ответственность:

Model - слой данных, отвечает за хранение и изменение данных.  
View - слой представления, отвечает за отображение данных на странице.  
Presenter - презентер содержит основную логику приложения и  отвечает за связь представления и данных.

Взаимодействие между классами обеспечивается использованием событийно-ориентированного подхода. Модели и Представления генерируют события при изменении данных или взаимодействии пользователя с приложением, а Презентер обрабатывает эти события используя методы как Моделей, так и Представлений.

### Базовый код

#### Класс Component
Является базовым классом для всех компонентов интерфейса.
Класс является дженериком и принимает в переменной `T` тип данных, которые могут быть переданы в метод `render` для отображения.

Конструктор:  
`constructor(container: HTMLElement)` - принимает ссылку на DOM элемент за отображение, которого он отвечает.

Поля класса:  
`container: HTMLElement` - поле для хранения корневого DOM элемента компонента.

Методы класса:  
`render(data?: Partial<T>): HTMLElement` - Главный метод класса. Он принимает данные, которые необходимо отобразить в интерфейсе, записывает эти данные в поля класса и возвращает ссылку на DOM-элемент. Предполагается, что в классах, которые будут наследоваться от `Component` будут реализованы сеттеры для полей с данными, которые будут вызываться в момент вызова `render` и записывать данные в необходимые DOM элементы.  
`setImage(element: HTMLImageElement, src: string, alt?: string): void` - утилитарный метод для модификации DOM-элементов `<img>`


#### Класс Api
Содержит в себе базовую логику отправки запросов.

Конструктор:  
`constructor(baseUrl: string, options: RequestInit = {})` - В конструктор передается базовый адрес сервера и опциональный объект с заголовками запросов.

Поля класса:  
`baseUrl: string` - базовый адрес сервера  
`options: RequestInit` - объект с заголовками, которые будут использованы для запросов.

Методы:  
`get(uri: string): Promise<object>` - выполняет GET запрос на переданный в параметрах ендпоинт и возвращает промис с объектом, которым ответил сервер  
`post(uri: string, data: object, method: ApiPostMethods = 'POST'): Promise<object>` - принимает объект с данными, которые будут переданы в JSON в теле запроса, и отправляет эти данные на ендпоинт переданный как параметр при вызове метода. По умолчанию выполняется `POST` запрос, но метод запроса может быть переопределен заданием третьего параметра при вызове.  
`handleResponse(response: Response): Promise<object>` - защищенный метод проверяющий ответ сервера на корректность и возвращающий объект с данными полученный от сервера или отклоненный промис, в случае некорректных данных.

#### Класс EventEmitter
Брокер событий реализует паттерн "Наблюдатель", позволяющий отправлять события и подписываться на события, происходящие в системе. Класс используется для связи слоя данных и представления.

Конструктор класса не принимает параметров.

Поля класса:  
`_events: Map<string | RegExp, Set<Function>>)` -  хранит коллекцию подписок на события. Ключи коллекции - названия событий или регулярное выражение, значения - коллекция функций обработчиков, которые будут вызваны при срабатывании события.

Методы класса:  
`on<T extends object>(event: EventName, callback: (data: T) => void): void` - подписка на событие, принимает название события и функцию обработчик.  
`emit<T extends object>(event: string, data?: T): void` - инициализация события. При вызове события в метод передается название события и объект с данными, который будет использован как аргумент для вызова обработчика.  
`trigger<T extends object>(event: string, context?: Partial<T>): (data: T) => void` - возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие с передачей в него данных из второго параметра.

### Данные
В проекте используются 2 основных интерфейса, которые описывают основные данные

#### Интерфейс IProduct
Описывает структуру товара, он может быть представлен как в каталоге товаров, так и в корзине.

`id: string` - Уникальный идентификатор товара.

`title: string` - Название товара.

`image: string` - URL изображения товара.

`category: string` - Категория товара.

`price: number | null` - Цена товара (может быть null, если не указана).

`description: string` - Описание товара.

#### Интерфейс IBuyer
Описывает данные покупателя, необходимые для оформления заказа.

`type TPayment = 'card' | 'cash' | ''` - относится к интерфейсу IBuyer, типизирует какие строковые значения может хранить `payment`

`payment: TPayment` - Способ оплаты: карта, наличные или не выбрано.

`email: string` - Email покупателя.

`phone: string` - Телефон покупателя.

`address: string` - Адрес доставки.

### Модели данных
Для учёта данных в приложении используются три класса, разделенные по смыслу и зонам ответственности.

#### Класс CatalogModel
Отвечает за хранение и управление всеми товарами, доступными в приложении. 
Включает в себя массив всех товаров и текущий выбранный товар для детального просмотра. 
Используется главным экраном приложения для отображения каталога и карточки товара.

Конструктор класса не принимает параметров.

Поля класса:
`products: IProduct[]` — массив всех товаров, загруженных в приложение. Хранит полную информацию о каждом товаре.

`selectedProduct: IProduct | null` — выбранный товар для детального просмотра. Может быть null, если ни один товар не выбран.

Методы класса:
`setProducts(products: IProduct[]): void` - сохранение массива товаров полученного в параметрах метода. Принимает 1 параметр `products: IProduct[]`.

`getProducts(): IProduct[]` - получение массива товаров из модели. Возвращает массив типа `IProduct[]`.

`getProductById(id: string): IProduct | null` - получение одного товара по его id. Вовращает объект типа `IProduct`, либо null, если объектов нет.

`setSelectedProduct(product: IProduct | null): void` - сохранение товара для подробного отображения. Принимает параметр `product: IProduct | null`, может быть либо объектом, либо null, если ничего не выбрано.

`getSelectedProduct(): IProduct | null` - получение товара для подробного отображения. Возвращает объект типа `IProduct`.

#### Класс CartModel
Управляет списком товаров, выбранных пользователем для покупки. Отвечает за добавление, удаление, подсчёт стоимости и количества товаров в корзине. 
Используется компонентами корзины и оформления заказа.

Конструктор класса не принимает параметров.

Поля класса:
`items: IProduct[]` — хранит массив товаров, выбранных покупателем для покупки.

Методы класса:
`getItems(): IProduct[]` - возвращает массив товаров, которые находятся в корзине. Возвращает массив типа `IProduct[]`.

`addItem(product: IProduct): void` - добавляет товар, который был получен в параметре, в массив корзины. Принимает параметр типа `IProduct`.

`removeItem(product: IProduct): void` - удаляет товар, полученный в параметре из массива корзины. Принимает параметр типа `IProduct`.
`clear(): void` - очищает корзину.

`getTotalPrice(): number` - получение стоимости всех товаров в корзине. Возвращает число.

`getTotalCount(): number` - получение количества товаров в корзине. Вовращает число.

`hasItem(id: string): boolean` - проверяет наличие товара в корзине по его `id`, полученного в параметр метода. Принимает параметр типа `string`, возвращает либо `true`, если в корзине есть товар с полученным `id`, либо `false`, если товара с полученным `id` нет.

#### Класс BuyerModel
Хранит и управляет данными покупателя, необходимыми для оформления заказа. Реализует валидацию данных. 
Используется на этапе оформления заказа.

Конструктор класса не принимает параметров.

Поля класса:
`payment: TPayment` — способ оплаты.

`email: string` — email покупателя.

`phone: string` — телефон покупателя.

`address: string` — адрес доставки.

Методы класса:
`setPayment(payment: TPayment): void` - сохраняет данные об оплате. Принимает строку типа `TPayment`.

`setEmail(email: string): void` - сохраняет email. Принимает строку.

`setPhone(phone: string): void` - сохраняет телефон. Принимает строку.

`setAddress(address: string): void` - сохраняет адрес. Принимает строку.

`getData(): IBuyer` - получение всех данных покупателя. Возвращает объект типа `IBuyer`.

`clear(): void` - очищает поля класса.

`validate(): { [key in keyof IBuyer]?: string }` - валидация данных. Поле считается невалидным, если оно пустое (строка '' или `null`).

### Слой коммуникации
Отвечает за работу с сервером через API

#### Класс ApiService
Отвечает за связь приложения с сервером "веб-ларёк". Получает данные о товарах с сервера и отправляет туда информацию о заказе. 
Использует готовый класс Api для выполнения HTTP-запросов.

Конструктор:
`constructor(private api: IApi) {}` - принимает один параметр: объект, соответствующий интерфейсу `IApi`.

Методы класса:
`getProducts(): Promise<IProduct[]>` - делает GET-запрос на эндпоинт `/product/` и возвращает массив товаров. Возвращает промис, результатом которого будет массив типа `IProduct[]`.

`sendOrder(order: IOrder): Promise<IOrderResult>` - делает POST-запрос на эндпоинт `/order` и передаёт в него данные заказа. Принимает параметр типа IOrder, возвращает промис, результатом которого будет объект типа `IOrderResult`.

### Слой представления (View)

Слой представления отвечает за отображение данных на странице. Классы этого слоя наследуются от базового класса `Component` и реализуют логику отображения конкретных элементов интерфейса (карточки товаров, корзина, формы и т.д.). Представления не содержат бизнес-логики и не хранят данные — они получают данные от Презентера и отображают их, а также генерируют события при взаимодействии пользователя (например, клик по кнопке, изменение поля формы).

#### Базовый класс Component

*   **Назначение:** Является базовым классом для всех компонентов интерфейса.
*   **Типизация:** Является дженериком и принимает в переменной `T` тип данных, которые могут быть переданы в метод `render` для отображения.
*   **Конструктор:** `constructor(container: HTMLElement)` - принимает ссылку на DOM элемент за отображение, которого он отвечает.
*   **Поля класса:**
    *   `container: HTMLElement` - поле для хранения корневого DOM элемента компонента.
*   **Методы класса:**
    *   `render(data?: Partial<T>): HTMLElement` - Главный метод класса. Он принимает данные, которые необходимо отобразить в интерфейсе, записывает эти данные в поля класса и возвращает ссылку на DOM-элемент. Предполагается, что в классах, которые будут наследоваться от `Component`, будут реализованы сеттеры для полей с данными, которые будут вызываться в момент вызова `render` и записывать данные в необходимые DOM элементы.
    *   `setImage(element: HTMLImageElement, src: string, alt?: string): void` - утилитарный метод для модификации DOM-элементов `<img>`.
    *   `setText(element: HTMLElement, text: string): void` - утилитарный метод для установки текстового содержимого элемента.
    *   `element: HTMLElement` - публичный геттер, возвращающий корневой DOM-элемент компонента.

#### Класс Header

*   **Назначение:** Отвечает за отображение и логику хедера, включая счётчик товаров в корзине и кнопку открытия корзины.
*   **Наследование:** `Component<IHeader>`
*   **Интерфейс данных:**
    ```typescript
    interface IHeader {
        counter: number; // Количество товаров в корзине
    }
    ```
*   **Конструктор:** `constructor(events: IEvents, container: HTMLElement)` - принимает брокер событий и DOM-контейнер хедера.
*   **Поля класса:**
    *   `counterElement: HTMLElement` - элемент отображения счётчика корзины.
    *   `basketButton: HTMLButtonElement` - кнопка открытия корзины.
*   **Сеттеры:**
    *   `counter(value: number)` - устанавливает значение счётчика корзины.

#### Класс Card (абстрактный)

*   **Назначение:** Базовый класс для карточек товаров. Определяет общие элементы и логику для карточек каталога, превью и корзины.
*   **Наследование:** `Component<ICardBase>`
*   **Интерфейс данных:**
    ```typescript
    interface ICardBase {
        title: string;
        image?: string;
        price: number | null;
        category?: string;
        description?: string;
        inBasket?: boolean; // Для CatalogCard
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents, actions?: ICardActions)` - принимает контейнер, брокер событий и объект с обработчиками действий.
*   **Поля класса:**
    *   `_title: HTMLElement`
    *   `imageElement: HTMLImageElement | null`
    *   `_price: HTMLElement`
    *   `_category: HTMLElement | null`
    *   `_description: HTMLElement | null`
    *   `button: HTMLButtonElement | null`
*   **Сеттеры:**
    *   `title(value: string)`
    *   `image(value: string | undefined)`
    *   `price(value: number | null)`
    *   `category(value: string | undefined)`
    *   `description(value: string | undefined)`
    *   `inBasket(value: boolean)` - устанавливает текст и состояние кнопки ("В корзину" / "Удалить из корзины" / "Недоступно").

#### Класс CatalogCard

*   **Назначение:** Отвечает за отображение карточки товара в каталоге.
*   **Наследование:** `Card`
*   **Интерфейс данных:** `ICatalogCard extends ICardBase`
    ```typescript
    interface ICatalogCard extends ICardBase {
        id: string;
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents, actions?: { onClick: (event: MouseEvent) => void })`
*   **Методы:**
    *   `render(data: ICatalogCard): HTMLElement` - отрисовывает карточку каталога с переданными данными.

#### Класс BasketCard

*   **Назначение:** Отвечает за отображение карточки товара в корзине.
*   **Наследование:** `Card`
*   **Интерфейс данных:**
    ```typescript
    interface IBasketCard {
        id: string;
        title: string;
        price: number | null;
        index?: number; // Порядковый номер в списке
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents, actions?: { onClick: (event: MouseEvent) => void })`
*   **Поля класса:**
    *   `indexElement: HTMLElement` - элемент отображения порядкового номера.
    *   `deleteButton: HTMLButtonElement` - кнопка удаления товара из корзины.
*   **Сеттеры:**
    *   `index(value: number)`
*   **Методы:**
    *   `render(data: IBasketCard): HTMLElement` - отрисовывает карточку корзины с переданными данными.

#### Класс Modal

*   **Назначение:** Отвечает за отображение и логику модального окна.
*   **Наследование:** `Component<IModalData>`
*   **Интерфейс данных:**
    ```typescript
    interface IModalData {
        content: HTMLElement; // Содержимое модального окна
    }
    ```
*   **Конструктор:** `constructor(events: IEvents, container: HTMLElement)` - принимает брокер событий и DOM-контейнер модального окна.
*   **Поля класса:**
    *   `closeButton: HTMLButtonElement` - кнопка закрытия модального окна.
    *   `contentContainer: HTMLElement` - контейнер для содержимого модального окна.
*   **Методы:**
    *   `openModal(content: HTMLElement): void` - открывает модальное окно с указанным содержимым, добавляет класс `modal_active` к контейнеру и `page_locked` к `body`.
    *   `closeModal(): void` - закрывает модальное окно, удаляет класс `modal_active` и `page_locked`.
    *   `render(data: IModalData): HTMLElement` - вызывает `openModal` с переданным содержимым.

#### Класс Basket

*   **Назначение:** Отвечает за отображение списка товаров в корзине и общей суммы.
*   **Наследование:** `Component<IBasketData>`
*   **Интерфейс данных:**
    ```typescript
    interface IBasketData {
        items: HTMLElement[]; // Массив DOM-элементов карточек товаров
        total: number; // Общая сумма заказа
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents)` - принимает контейнер и брокер событий.
*   **Поля класса:**
    *   `list: HTMLElement` - контейнер списка товаров.
    *   `totalElement: HTMLElement` - элемент отображения общей суммы.
    *   `button: HTMLButtonElement` - кнопка оформления заказа.
    *   `emptyMessageElement: HTMLElement` - элемент отображения сообщения "Корзина пуста".
*   **Сеттеры:**
    *   `items(value: HTMLElement[])` - устанавливает список товаров, скрывает/показывает сообщение "Корзина пуста", блокирует/разблокирует кнопку оформления.
    *   `total(value: number)` - устанавливает общую сумму.
*   **Методы:**
    *   `render(data: IBasketData): HTMLElement` - отрисовывает корзину с переданными данными.

#### Класс Order

*   **Назначение:** Отвечает за отображение и логику первой формы оформления заказа (способ оплаты, адрес).
*   **Наследование:** `Component<IOrderFormState>`
*   **Интерфейс данных:**
    ```typescript
    export interface IOrderFormState {
        payment: TPayment;
        address: string;
        errors: string[];
        valid: boolean;
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents)` - принимает контейнер и брокер событий, устанавливает обработчики событий на кнопки оплаты, поле адреса и форму.
*   **Поля класса:**
    *   `addressInput: HTMLInputElement` - поле ввода адреса.
    *   `cardButton: HTMLButtonElement` - кнопка выбора оплаты картой.
    *   `cashButton: HTMLButtonElement` - кнопка выбора оплаты при получении.
    *   `orderButton: HTMLButtonElement` - кнопка "Далее".
    *   `errorsContainer: HTMLElement` - контейнер для отображения ошибок.
    *   `_currentPayment: TPayment` - приватное поле для хранения текущего выбора оплаты.
*   **Сеттеры:**
    *   `payment(value: TPayment)` - устанавливает активное состояние кнопок оплаты.
    *   `address(value: string)` - устанавливает значение поля адреса.
    *   `errors(value: string[])` - устанавливает текст ошибок.
    *   `valid(value: boolean)` - блокирует/разблокирует кнопку "Далее".
*   **Методы:**
    *   `render(data: IOrderFormState): HTMLElement` - отрисовывает форму с переданными данными.

#### Класс Contacts

*   **Назначение:** Отвечает за отображение и логику второй формы оформления заказа (email, телефон).
*   **Наследование:** `Component<IContactFormState>`
*   **Интерфейс данных:**
    ```typescript
    export interface IContactFormState {
        email: string;
        phone: string;
        errors: string[];
        valid: boolean;
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents)` - принимает контейнер и брокер событий, устанавливает обработчики событий на поля ввода и форму.
*   **Поля класса:**
    *   `emailInput: HTMLInputElement` - поле ввода email.
    *   `phoneInput: HTMLInputElement` - поле ввода телефона.
    *   `submitButton: HTMLButtonElement` - кнопка "Оплатить".
    *   `errorsContainer: HTMLElement` - контейнер для отображения ошибок.
*   **Сеттеры:**
    *   `email(value: string)` - устанавливает значение поля email.
    *   `phone(value: string)` - устанавливает значение поля телефона.
    *   `errors(value: string[])` - устанавливает текст ошибок.
    *   `valid(value: boolean)` - блокирует/разблокирует кнопку "Оплатить".
*   **Методы:**
    *   `render(data: IContactFormState): HTMLElement` - отрисовывает форму с переданными данными.

#### Класс Success

*   **Назначение:** Отвечает за отображение сообщения об успешном оформлении заказа.
*   **Наследование:** `Component<ISuccessData>`
*   **Интерфейс данных:**
    ```typescript
    interface ISuccessData {
        total: number; // Списанная сумма
    }
    ```
*   **Конструктор:** `constructor(container: HTMLElement, events: IEvents)` - принимает контейнер и брокер событий.
*   **Поля класса:**
    *   `closeSuccessButton: HTMLButtonElement` - кнопка закрытия окна успеха.
    *   `description: HTMLElement` - элемент отображения суммы.
*   **Сеттеры:**
    *   `total(value: number)` - устанавливает текст описанной суммы.
*   **Методы:**
    *   `render(data: ISuccessData): HTMLElement` - отрисовывает окно успеха с переданными данными.

### События приложения

Взаимодействие между слоями приложения (Модель, Представление, Презентер) осуществляется через события. Ниже приведён список событий, генерируемых в приложении.

*   `catalog:products:changed` — Генерируется `CatalogModel` при установке нового списка товаров. Уведомляет о том, что каталог изменился.
*   `catalog:selected:changed` — Генерируется `CatalogModel` при установке выбранного для просмотра товара. Уведомляет о смене выбранного товара.
*   `cart:item:added` — Генерируется `CartModel` при добавлении товара в корзину. Уведомляет о добавлении товара.
*   `cart:item:removed` — Генерируется `CartModel` при удалении товара из корзины. Уведомляет об удалении товара.
*   `cart:cleared` — Генерируется `CartModel` при очистке корзины. Уведомляет об очистке корзины.
*   `buyer:payment:changed` — Генерируется `BuyerModel` при изменении способа оплаты. Уведомляет об изменении способа оплаты.
*   `buyer:email:changed` — Генерируется `BuyerModel` при изменении email. Уведомляет об изменении email.
*   `buyer:phone:changed` — Генерируется `BuyerModel` при изменении телефона. Уведомляет об изменении телефона.
*   `buyer:address:changed` — Генерируется `BuyerModel` при изменении адреса. Уведомляет об изменении адреса.
*   `buyer:cleared` — Генерируется `BuyerModel` при очистке данных покупателя. Уведомляет об очистке данных.
*   `catalog:item:click` — Генерируется `CatalogCard` при клике на карточку товара в каталоге. Уведомляет о выборе карточки для просмотра.
*   `basket:item:delete` — Генерируется `BasketCard` при клике на кнопку удаления товара из корзины. Уведомляет о необходимости удалить товар из корзины.
*   `basket:open` — Генерируется `Header` при клике на кнопку корзины. Уведомляет о необходимости открыть корзину.
*   `order:open` — Генерируется `Basket` при клике на кнопку оформления заказа. Уведомляет о необходимости открыть первую форму оформления заказа.
*   `order:contacts:open` — Генерируется Презентером при успешной валидации первой формы. Уведомляет о необходимости открыть вторую форму (контакты).
*   `payment:change` — Генерируется `Order` при выборе способа оплаты. Уведомляет о смене способа оплаты.
*   `address:change` — Генерируется `Order` при изменении адреса в поле ввода. Уведомляет об изменении адреса.
*   `order:submit` — Генерируется `Order` при отправке формы оформления заказа. Уведомляет о необходимости проверить валидацию и перейти к следующему шагу.
*   `email:change` — Генерируется `Contacts` при изменении email в поле ввода. Уведомляет об изменении email.
*   `phone:change` — Генерируется `Contacts` при изменении телефона в поле ввода. Уведомляет об изменении телефона.
*   `contacts:submit` — Генерируется `Contacts` при отправке формы контактов. Уведомляет о необходимости проверить валидацию и отправить заказ.
*   `order:success` — Генерируется Презентером при успешной отправке заказа на сервер. Уведомляет о необходимости открыть окно успеха.
*   `success:close` — Генерируется `Success` при клике на кнопку "За новыми покупками!". Уведомляет о необходимости закрыть окно успеха.
*   `modal:open` — Генерируется `Modal` при открытии модального окна. Уведомляет о смене состояния модального окна.
*   `modal:close` — Генерируется `Modal` при закрытии модального окна. Уведомляет о смене состояния модального окна.

### Презентер

Презентер (`AppPresenter`, реализованный в `main.ts`) содержит основную логику приложения и отвечает за связь представления и данных. Он инициализирует модели, представления и API, подписывается на события от моделей и представлений, обрабатывает их и вызывает соответствующие методы моделей и представлений для обновления состояния приложения и отображения.

#### Основные обязанности:

*   **Инициализация:** Создание экземпляров моделей данных (`CatalogModel`, `CartModel`, `BuyerModel`), API (`ApiService`), брокера событий (`EventEmitter`) и представлений (`Modal`, `Header`, `Basket`, `Order`, `Contacts`, `Success`, `CatalogCard`, `BasketCard`).
*   **Управление состоянием:** Подписка на события от моделей и представлений, реагирование на них (например, обновление счётчика корзины, отображение карточек товаров, открытие/закрытие модальных окон).
*   **Валидация:** Проверка данных, введённых пользователем, на основе методов валидации моделей.
*   **Коммуникация с API:** Вызов методов `ApiService` для загрузки каталога и отправки заказов.
*   **Обновление UI:** Вызов методов `render` и сеттеров у представлений для отображения актуальных данных.

Презентер координирует работу всех компонентов приложения, обеспечивая плавный пользовательский интерфейс и корректную бизнес-логику.